import matplotlib.pyplot as plt
import numpy as np

data = {
    16: [3611.7305381521583, 3086.8065905719995, 3448.7601437196136],
    32: [1463.3577091917396, 1651.0601688958704, 1522.1254113167524, 1290.096725255251, 1970.6946763023734],
    64: [629.4862054213881, 916.1313880383968, 858.30982619524, 634.9179271683097, 906.8408421576023],
    128: [369.50207874551415, 472.9979548752308, 469.70699743553996, 475.87009907513857, 320.08990751951933],
    256: [219.62153039127588, 195.52388360351324, 163.18633330613375, 245.06904873251915, 215.40946627408266],
    512: [126.92576202005148, 159.423053689301, 95.92602097988129, 127.18760611861944, 114.08054827898741],
    918: [89.14874235540628, 65.42899821698666, 60.49894851446152]
}

average_times = [np.mean(times) for times in data.values()]
time = np.array(average_times)
rank = np.array([16, 32, 64, 128, 256, 512, 918])

speed_up = time[0] / time
expected_speed_up = np.array([1, 2, 4, 8, 16, 32, 64])
plt.figure()
plt.plot(rank, speed_up, label = "Actual speed up")
plt.plot(rank, expected_speed_up, label = "Expected speed up")
plt.xscale("log", base=2)
plt.yscale("log", base=2)
plt.xlabel("Rank number")
plt.ylabel("Speed up")

plt.legend()
plt.show()
